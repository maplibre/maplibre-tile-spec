---
title: FeatureTableSchema
---
classDiagram
    %% ---------------- TileMetadata ----------------
    class TileMetadata {
      +varint featureTableCount
      +FeatureTable[] featureTables
    }

    %% ---------------- FeatureTable ----------------
    class FeatureTable {
      +string name
      +varint columnCount
      +Column[] columns
    }

    %% ---------------- Column ----------------
    class Column {
      +string name
      +u8 options
      +ScalarColumn scalarType
      +ComplexColumn complexType
    }
    %% Note: options flags for Column: nullable=1, complex=2, vertexScope=4

    %% ---------------- ScalarColumn ----------------
    class ScalarColumn {
      +ScalarColumnOptions options
      +ScalarType physicalType
      +LogicalScalarType logicalType
    }
    %% Note: options flag for ScalarColumnOptions: logical = 1

    %% ---------------- ComplexColumn ----------------
    class ComplexColumn {
      +ComplexColumnOptions options
      +ComplexType physicalType
      +LogicalComplexType logicalType
      +varint childrenCount
      +Field[] children
    }
    %% Note: options flag for ComplexColumnOptions: logical = 1

    %% ---------------- Field ----------------
    class Field {
      +FieldOptions options
      +string name  %% optional, used when named
      +ScalarField scalarField
      +ComplexField complexField
    }
    %% Note: options flags for FieldOptions: named = 1, nullable = 2, complex = 4

    %% ---------------- ScalarField ----------------
    class ScalarField {
      +ScalarFieldOptions options
      +ScalarType physicalType
      +LogicalScalarType logicalType
    }
    %% Note: options flag for ScalarFieldOptions: logical = 1

    %% ---------------- ComplexField ----------------
    class ComplexField {
      +ComplexFieldOptions options
      +ComplexType physicalType
      +LogicalComplexType logicalType
      +varint childCount
      +Field[] children
    }
    %% Note: options flag for ComplexFieldOptions: logical = 1

    %% ---------------- Enumerations ----------------
    class ScalarType {
      BOOLEAN = 0
      INT_8 = 1
      UINT_8 = 2
      INT_32 = 3
      UINT_32 = 4
      INT_64 = 5
      UINT_64 = 6
      FLOAT = 7
      DOUBLE = 8
      STRING = 9
      INT_128 = 10
      UINT_128 = 11
    }

    class LogicalScalarType {
      TIMESTAMP = 0
      DATE = 1
      JSON = 2
    }

    class ComplexType {
      VEC_2 = 0
      VEC_3 = 1
      GEOMETRY = 2
      GEOMETRY_Z = 3
      LIST = 4
      MAP = 5
      STRUCT = 6
    }

    class LogicalComplexType {
      BINARY = 0
      RANGE_MAP = 1
    }

    %% ---------------- Associations ----------------
    TileMetadata --> FeatureTable : featureTables
    FeatureTable --> Column : columns
    Column --> ScalarColumn : scalarType
    Column --> ComplexColumn : complexType
    ComplexColumn --> Field : children
    ComplexField --> Field : children
    Field --> ComplexField : complexField
    Field --> ScalarField : scalarField
